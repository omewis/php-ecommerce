<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="google-signin-client_id"
      content="763173387217-lv83ao8bnjcorooamgv3enh452o3tab9.apps.googleusercontent.com"
    />
    <title>Samsung TV</title>
    <link rel="icon" type="image/x-icon" href="./assets/images/loogo.png" />
    <link
      rel="stylesheet"
      href="./assets/themify-icons-font/themify-icons/themify-icons.css"
    />
    <link
      rel="stylesheet"
      href="./assets/fontawesome-free-6.1.1/fontawesome-free-6.1.1-web/css/all.min.css"
    />
    <link rel="stylesheet" href="./assets/css/modal.css" />
    <link rel="stylesheet" href="./assets/css/product.css" />
    <link rel="stylesheet" href="./assets/css/rpsproduct.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
  </head>
  <body>
    <div id="header">
      <div class="container width_86 width_94">
        <div class="nav-left">
          <ul id="nav">
            <li class="nav-item">
              <a href="index.html" class="header-nav-home">Home</a>
            </li>

            <li class="nav-item nav-product">
              <div class="nav-product">
                <a href="./products.html"
                  >Products <i class="fa-solid fa-caret-down nav-arrow-icon"></i
                ></a>
              </div>
              <ul class="subnav" id="categoryList">
                <li class="subnav-item">
                  <a href="./subnavvagetable.html" id="category">Headphones</a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="./news.html">About</a>
            </li>
            <li class="nav-item">
              <a href="./contact.html">Contact</a>
            </li>
          </ul>
        </div>
        <div class="nav-between-logo">
          <a href="./index.html">
            <img
              src="./assets/img/logo.png"
              width="200px"
              ,height="180px"
              alt="logo"
              class="nav-logo"
            />
          </a>
        </div>
        <div class="nav-right">
          <ul class="nav-right-list">
            <li class="list--item">
              <a
                href="cart.html"
                class="navright-item ti-bag js-btn-cartshopping"
              >
                <p class="notification js--cartnotification">0</p>
              </a>
            </li>
            <li class="list--item user">
              <a href="#" class="navright-item ti-user"></a>
              <div class="signupsignin">
                <div class="signupsignin-item signin">
                  <button class="btn btn-login js-btn-login">Login</button>
                </div>
                <div class="signupsignin-item signup">
                  <button class="btn btn-register js-btn-register">
                    Register
                  </button>
                </div>
              </div>
            </li>
            <li class="list--item">
              <a
                href="#"
                class="navright-item ti-align-right js-btn-sidebar"
              ></a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <!-- Slider Section -->
    <div id="slider">
      <div id="drop-of-water">
        <img src="./assets/images/bg-after-header.webp" alt="" />
      </div>
      <div class="slider-title" id="product-title"></div>
      <div class="slider-nav">
        <a href="./index.html" class="nav-item">Home</a><i>/</i>
        <a href="#" class="nav-item" id="product-title"></a>
      </div>
    </div>

    <!-- Content Section -->
    <div id="content">
      <div class="content-about width_86 width_94 m-lr-auto">
        <div class="section-infoandprice">
          <div class="content-item content-details" id="productDetails"></div>
        </div>
        <div class="section-info d-none">
          <div class="section-info--title">
            <ul>
              <li class="infoproduct js--infoproduct">PRODUCT INFORMATION</li>
            </ul>
          </div>
          <div class="section-info--des js--infodes">
            <p>
              Sharp 4K Smart LED TV Without Frame Screen Size : 50 Inch
              Resolution : 3840 × 2160 ( 4K , Ultra HD ) Split Ratio: 9:16
              Viewing Angle : 178° Total Internal Memory : 32 GB Terrestrial
              transmission type: Digital transmission (DVB-T/T2/S/S2) Screen
              features: - Smart OS : Android 10.0 Equipped with built-in
              receiver Audio Technology: Dolby Atmos Studio Sound DTS Dolby
              Vision Technology Access to a web browser Access the Netflix app
              to watch the latest series and movies Prime Video App YouTube
              accessibility Shahid VIP accessibility Access to the Google Play
              Store for easy downloading programs and games Google Assistant The
              ability to play programs and games through mobile on the
              Chromecast screen Time control feature that enables the device to
              pause the broadcast and rebroadcast the recorded part during the
              stop
            </p>
          </div>
        </div>
        <div class="section-relatedproducts d-none">
          <div class="section-relatedproducts--title">
            <h1>Related Products</h1>
            <img src="./assets/images/icon news.png" alt="" />
          </div>
          <div class="section-relatedproducts--product">
            <div class="product-item" id="productsContainer">
              <div class="item-rprice">
                <p>- 41%</p>
              </div>
              <div class="item-sp--img">
                <a href="./redpeachUSA.html">
                  <img src="./assets/images/laptop2.png" alt="Gaming Labtop" />
                </a>
              </div>
              <div class="item-sp">
                <a href="./redpeachUSA.html" class="item-sp--name"
                  >Gaming Labtop</a
                >
                <div class="item-sp-price">
                  <p class="item-sp--cost">40.000<a>LE</a></p>
                  <p class="item-sp--rprice">68.000<a>LE</a></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer Section -->
    <div id="footer">
      <div id="drop-of-water1">
        <div class="drop-of-water">
          <img src="./assets/images/bg-before-footer.webp" alt="">
        </div>
      </div>
      <div class="footer-first width_86 width_94 m-lr-auto ">
        <div class="footer-item footer-signup">
          <div class="signup-des">
            <p>Subscribe to our newsletter to receive special offers on Tech Tree Website products.</p>
          </div>
          <div class="signup-text-btn">
            <div class="signup-text">
              <input type="text" placeholder="Enter your email">
            </div>
            <div class="signup-btn">
              <button class="js-btn-registerfooter">Sign up</button>
            </div>
          </div>
        </div>
        <div class="footer-item footer-introduction">
          <div class="logo">
            <img src="./assets/img/logo.png" width="200px",height="180px" alt="">
          </div>
          <div class="introduction">
            The Tech Tree Website is an innovative online platform designed to cater to the needs of technology enthusiasts, 
            professionals, and learners alike. It serves as a comprehensive resource hub that not only provides up-to-date
             information on the latest technological advancements</div>
          <div class="logofooter">
            <img src="./assets/images/logo7.png" alt="">
          </div>
        </div>
        <div class="footer-item footer-contact">
          <h3>Contact Us
          </h3>
          <div>
            <p>Address: </p><a>Minia</a>
  
          </div>
          <div>
            <p>Phone </p><a>0332670569</a>
          </div>
          <div>
            <p>Email: </p><a>viennv.21it@vku.udn.vn</a>
          </div>
        </div>
      </div>
      <div class="footer-last">
        <div class="footer-copyright-iconcontact width_94 width_86 m-lr-auto">
  
          <div></div>
          <div class="iconcontact">
            <a href="" class="iconcontact-item ti-facebook"></a>
            <a href="" class="iconcontact-item ti-twitter"></a>
            <a href="" class="iconcontact-item ti-google"></a>
            <a href="" class="iconcontact-item icon-ytb"><img src="./assets/images/icon-ytb.png" alt=""></a>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal Section -->
    <div class="modal js-modal">
      <div class="modal__overlay"></div>
      <div class="modal__registerlogin js-modal__registerlogin">
        <div class="modal__inner modal__register js-modal__register">
          <div class="inner__authform--header">
            <img src="./assets/images/logo.webp" alt="" />
            <div class="authform__fromhome">
              <a href="./index.html">Home</a>
              <span>/</span>
              <p>Register Account</p>
            </div>
          </div>
          <div class="inner__authform--body">
            <div class="inner__authform--form">
              <div class="authform__item">
                <input type="text" name="" placeholder="Full Name" />
                <input type="text" name="" placeholder="Phone Number" />
                <input type="text" name="" placeholder="E-mail" />
                <input type="password" name="" placeholder="Password" />
              </div>
              <div class="authform__help">
                <button class="authform__help--register">Register</button>
              </div>
              <div class="authform__separate">
                <span>Or register with</span>
              </div>
            </div>
          </div>
          <div class="inner__authform--socials">
            <div class="authform--socials-item authform--socialsFb">
              <a href="" class=""
                ><i class="fa-brands fa-facebook-square"></i>Facebook</a
              >
            </div>
            <div
              class="authform--socials-item authform--socialsGg g-signin2"
              data-onsuccess="onSignIn"
            ></div>
          </div>
          <div class="inner__authform--controls">
            <button class="btn-registerModal js-btnregisterModal">
              Create Account
            </button>
            <button class="btn-cancel js-btn-cancel">Return to Home</button>
          </div>
        </div>
        <div class="modal__inner modal__login js-modal__login">
          <div class="inner__authform--header">
            <img src="./assets/images/logo.webp" alt="" />
            <div class="authform__fromhome">
              <a href="./index.html">Home</a>
              <span>/</span>
              <p>Login Account</p>
            </div>
          </div>
          <div class="inner__authform--body">
            <div class="inner__authform--form">
              <div class="authform__item">
                <input type="text" name="" placeholder="E-mail" />
                <input type="password" name="" placeholder="Password" />
              </div>
              <div class="authform__help">
                <button>Login</button>
                <a href="#" class="authform__help--forgot">Forgot Password?</a>
              </div>
              <div class="authform__separate">
                <span>Or login with</span>
              </div>
            </div>
          </div>
          <div class="inner__authform--socials">
            <div class="authform--socials-item authform--socialsFb">
              <a href="" class=""
                ><i class="fa-brands fa-facebook-square"></i>Facebook</a
              >
            </div>
            <div
              class="authform--socials-item authform--socialsGg g-signin2"
              data-onsuccess="onSignIn"
            ></div>
          </div>
          <div class="inner__authform--header inner__authform--headercp">
            <p class="inner__authform--title">Register</p>
            <p class="inner__authform--des">
              Create an account to manage orders and payment information more
              easily.
            </p>
          </div>
          <div class="inner__authform--controls">
            <button class="btn-registerModal js-btnregisterModal">
              Create Account
            </button>
            <button class="btn-cancel js-btn-cancel">Return to Home</button>
          </div>
        </div>
      </div>
      <div class="modal__cartshopping js-modal__cartshopping">
        <!-- Main container for the cart modal -->
        <div class="modal__cartshpping--inner js--modal__cartshpping">
          <!-- Header section of the cart modal -->
          <div class="modal__cartshopping--header">
            <h4>CART</h4>
            <!-- Title of the modal -->
            <button class="ti-close cartshopping--icon js-btn-close"></button>
            <!-- Close button for the modal -->
          </div>
          <!-- Section displayed when the cart is empty -->
          <div class="modal__cartshopping--noproduct js--noproduct">
            <img src="./assets/images/mobile-shopping.svg" alt="" />
            <!-- Image indicating an empty cart -->
            <button class="btn--continueshopping">Continue Shopping</button>
            <!-- Button to continue shopping -->
          </div>
          <!-- Container for the list of cart items -->
          <div class="container__cartitem js--container__cartitem"></div>
          <!-- Section for displaying the total amount and checkout button -->
          <div class="summoney js--summoney">
            <span class="summoney--separate summoney--item"></span>
            <!-- Separator line -->
            <div class="summoney-labelandsum summoney--item">
              <p class="summoney--labelsum">Total:</p>
              <!-- Label for the total amount -->
              <div class="summoney--intomoneyandunitprice">
                <div class="summoney__currency">
                  <p class="summoney--intomoney js__intomoney">5</p>
                  <!-- Total amount (initially set to 5) -->
                  <p>.000</p>
                  <!-- Currency subunit (e.g., thousand) -->
                </div>
                <p class="summoney--unitprice">$</p>
                <!-- Currency unit  -->
              </div>
            </div>
            <button
              class="summoney--payment summoney--item js__summoney--payment"
            >
              Checkout
            </button>
            <!-- Checkout button -->
          </div>
        </div>
      </div>
      <div class="modal__sidebar js-modal__sidebar">
        <div class="modal__sidebar--inner">
          <div class="modal__sidebar--nav">
            <ul class="sidebar__login">
              <li class="sidebar__login-inner">
                <span class="sidebar--btn-login js-btn-loginRps"
                  ><i class="fa-solid fa-right-to-bracket"></i>Login</span
                >
              </li>
            </ul>
            <ul class="modal__sidebar--list">
              <li class="modal__sidebar--item">
                <a href="./index.html"
                  ><i class="fa-solid fa-house"></i>Home
                </a>
              </li>
              <li class="modal__sidebar--item">
                <a href="./products.html"
                  ><i class="fa-solid fa-clipboard-list"></i>Products</a
                >
              </li>
              <li class="modal__sidebar--item">
                <a href="./news.html"
                  ><i class="fa-solid fa-newspaper"></i>News</a
                >
              </li>
              <li class="modal__sidebar--item">
                <a href="./contact.html"
                  ><i class="fa-solid fa-square-phone"></i>Contact</a
                >
              </li>
              <li class="modal__sidebar--item">
                <a href="./introduction.html"
                  ><i class="fa-solid fa-circle-info"></i>About Us</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- JavaScript Files -->
    <script src="./assets/js/index.js"></script>
    <script src="./assets/js/addproducttocart.js"></script>
    <script src="./assets/js/addproducttofavorite.js"></script>
    <script src="./assets/js/descriptionGuava.js"></script>
    <script src="./assets/js/imagesgallery.js"></script>
    <script src="./assets/js/changenumberof.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var urlParams = new URLSearchParams(window.location.search);
        var productId = urlParams.get("id");

        console.log("Retrieved product ID from URL:", productId);

        if (productId) {
          var products = JSON.parse(localStorage.getItem("myProducts")) || [];
          console.log("Retrieved products from localStorage:", products);

          var product = products.find(
            (p) => String(p.id) === String(productId)
          );
          console.log("Product found:", product);

          if (product) {
            // Update the product title in the navigation item
            var productTitleElement =
              document.getElementById("product-title");
            if (productTitleElement) {
              productTitleElement.textContent = product.name;
            }

            var productDetailsContainer =
              document.getElementById("productDetails");
            productDetailsContainer.innerHTML = `
                        <div class="content-details--item content-details--imgguava js--imgproduct">
                            <img src="${product.image}" alt="${product.name}" class="imgproduct">
                            <i class="ti-heart"></i>
                        </div>
                        <div class="content-details--item content-details--info">
                            <h3 class="info-name js-nameproduct" id="${product.id}">${product.name}</h3>
                            <div class="info-priceandrprice">
                                <p class="info-price js--price">${product.price}<span>LE</span></p>
                            </div>
                            <p class="info-economize">${product.name} </p>
                            <p class="info-des">${product.description}</p>                
                          <div class="content-details--amount">
    <p>Quantity:</p>
    <div class="incr-and-decr">
        <div class="quantityadapter">
            <button class="quantityadapter-item minus js--minus">
                <i class="ti-minus"></i>
            </button>
            <input type="text" name="" id="" value="1" class="enterquantity js--enterquantity">
            <button class="quantityadapter-item plus js--plus">
                <i class="ti-plus"></i>
            </button>
        </div>
        <button class="buynow js--buynow"><a href="cart.html?id=${product.id}" 
            style="text-decoration: none;  color: white;">BUY NOW</a></button>
    </div>
</div>
<button class="content-details--add js--btnaddproduct  animate-button">ADD TO CART</button>
<button class="content-details--add js--btnaddproduct  animate-button"><a href="cart.html?id=${product.id}" 
    style="text-decoration: none; color: white;">GO TO CART</a></button>
                        </div>`;

            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            let cartItemId = cart.length
              ? cart[cart.length - 1].cart_item_id + 1
              : 1;

            var minusButton = document.querySelector(".js--minus");
            var plusButton = document.querySelector(".js--plus");
            var quantityInput = document.querySelector(".js--enterquantity");
            var addButton = document.querySelector(".js--btnaddproduct");

            function updateQuantity(increment) {
              let currentQuantity = parseInt(quantityInput.value);
              if (increment) {
                currentQuantity++;
              } else if (currentQuantity > 0) {
                currentQuantity--;
              }
              quantityInput.value = currentQuantity;
              if (currentQuantity === 0) {
                removeFromCart(productId);
              } else {
                addToCart(productId, currentQuantity);
              }
            }

            function addToCart(productId, quantity) {
              let existingItem = cart.find(
                (item) => item.product_id === productId
              );
              if (existingItem) {
                existingItem.quantity = quantity;
              } else {
                cart.push({
                  cart_item_id: cartItemId++,
                  product_id: productId,
                  quantity: quantity,
                });
              }
              localStorage.setItem("cart", JSON.stringify(cart));
            }

            function removeFromCart(productId) {
              cart = cart.filter((item) => item.product_id !== productId);
              localStorage.setItem("cart", JSON.stringify(cart));
            }

            plusButton.addEventListener("click", function () {
              updateQuantity(true);
            });

            minusButton.addEventListener("click", function () {
              updateQuantity(false);
            });

            addButton.addEventListener("click", function () {
              this.classList.add("animate-button");
              setTimeout(() => this.classList.remove("animate-button"), 300);
            });

            // Initial add to cart based on the default quantity
            addToCart(productId, parseInt(quantityInput.value));
          } else {
            console.error("Product not found.");
            document.getElementById("productDetails").innerHTML =
              "<p>Product not found.</p>";
          }
        } else {
          console.error("No product ID found in the URL.");
          document.getElementById("productDetails").innerHTML =
            "<p>No product ID found in the URL.</p>";
        }

        // Function to display the category list
        function populateCategoryList() {
          var categoryList = document.getElementById("categoryList");
          if (categoryList) {
            var categories =
              JSON.parse(localStorage.getItem("categories")) || [];

            categoryList.innerHTML = "";

            categories.forEach((category) => {
              var categoryItem = document.createElement("li");
              categoryItem.className = "subnav-item";

              var categoryLink = document.createElement("a");
              categoryLink.href = `./productsOfCategory.html?id=${category.id}`;
              categoryLink.textContent = category.name;

              categoryItem.appendChild(categoryLink);
              categoryList.appendChild(categoryItem);
            });
          }
        }

        // Populate the category list with products
        populateCategoryList(products);
      });
    </script>
  </body>
</html>